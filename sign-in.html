<!DOCTYPE html>
<html lang="en">
<head>
      <!-- üñºÔ∏è Favicon (shows in browser tab) -->
    <link rel="icon" type="image/png" href="/images/Logo Version Transparente-01.png">
    <!-- Optional for Apple/Android homescreens -->
    <link rel="apple-touch-icon" href="/images/Logo Version Transparente-01.png">

    <!-- üîç Google Structured Data (shows logo in search results) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "url": "https://www.olyshair.com",
      "logo": "https://www.olyshair.com/images/Logo%20Version%20Transparente-01.png"
    }
    </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>OLYS HAIR - Sign In</title>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Montserrat:wght@300;400;500;600&display=swap"
    rel="stylesheet"
  />
  <style>
    /* CSS Variables */
    :root {
      --cream: #392625;
      --white: #ffffff;
      --dark-gray: #1e1e1e;
      --light-bg: #f8f5f2;
      --text-dark: #1e1e1e;
      --text-light: #ffffff;
      --card-bg: #ffffff;
      --shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      --border-radius: 10px;
      --transition: all 0.3s ease;
    }

    .dark-mode {
      --cream: #c8b4a8;
      --white: #1e1e1e;
      --dark-gray: #f8f5f2;
      --light-bg: #2d2d2d;
      --text-dark: #f8f5f2;
      --text-light: #1e1e1e;
      --card-bg: #181212;
      --shadow: 0 5px 15px rgba(182, 131, 131, 0.2);
    }

    /* Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Montserrat", sans-serif;
      background-color: var(--white);
      color: var(--text-dark);
      overflow-x: hidden;
      line-height: 1.6;
      transition: var(--transition);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    h1, h2, h3, h4 {
      font-family: "Playfair Display", serif;
      font-weight: 600;
      color: var(--cream);
    }

    /* Header Styles */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background-color: var(--white);
      box-shadow: var(--shadow);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .logo-container {
      width: 180px;
      height: 60px;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: var(--white);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
    }

    .logo-img-light {
      max-width: 120px;
      max-height: 50px;
      display: block;
      margin: 0 auto;
      object-fit: contain;
    }

    .logo-img-dark {
      max-width: 120px;
      max-height: 50px;
      display: none;
      margin: 0 auto;
      object-fit: contain;
      background: transparent;
    }

    .dark-mode .logo-img-light {
      display: none;
    }

    .dark-mode .logo-img-dark {
      display: block;
    }

    .nav-links {
      display: flex;
      gap: 20px;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-dark);
      font-weight: 500;
      transition: var(--transition);
      font-size: 14px;
    }

    .nav-links a:hover {
      color: var(--cream);
    }

    .header-icons {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .header-icons i {
      font-size: 18px;
      color: var(--cream);
      cursor: pointer;
    }

    /* Dark/Light Mode Toggle */
    .mode-toggle {
      position: relative;
      width: 50px;
      height: 25px;
      background-color: var(--light-bg);
      border-radius: 15px;
      cursor: pointer;
      display: flex;
      align-items: center;
      padding: 0 5px;
      transition: var(--transition);
    }

    .toggle-circle {
      position: absolute;
      width: 18px;
      height: 18px;
      background-color: var(--cream);
      border-radius: 50%;
      transition: var(--transition);
      left: 4px;
    }

    .dark-mode .toggle-circle {
      left: 28px;
    }

    .mode-toggle i {
      font-size: 12px;
      z-index: 2;
    }

    .fa-sun {
      color: var(--cream);
      margin-right: auto;
    }

    .fa-moon {
      color: var(--cream);
      margin-left: auto;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      background: linear-gradient(
        135deg,
        rgba(57, 38, 37, 0.05) 0%,
        rgba(57, 38, 37, 0.02) 100%
      );
    }

    .auth-container {
      display: flex;
      width: 100%;
      max-width: 1000px;
      min-height: auto;
      border-radius: var(--border-radius);
      overflow: hidden;
      box-shadow: var(--shadow);
    }

    .auth-image {
      flex: 1;
      background: linear-gradient(
          135deg,
          rgba(57, 38, 37, 0.85) 0%,
          rgba(57, 38, 37, 0.7) 100%
        ),
        url("https://images.unsplash.com/photo-1596468132315-0de849300ff0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80")
          no-repeat center center/cover;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 30px 20px;
      color: var(--white);
      text-align: center;
    }

    .auth-image h2 {
      font-size: 1.8rem;
      margin-bottom: 15px;
      color: var(--white);
      background: linear-gradient(
        45deg,
        #ffffff 20%,
        #392625 40%,
        #ffffff 60%,
        #392625 80%
      );
      background-size: 200% auto;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shine 5s infinite linear;
      text-shadow: 0 0 10px rgba(57, 38, 37, 0.5);
      font-weight: 600;
    }

    .auth-image p {
      max-width: 400px;
      margin-bottom: 20px;
      font-size: 1rem;
      background: linear-gradient(
        45deg,
        #ffffff 20%,
        #392625 40%,
        #ffffff 60%,
        #392625 80%
      );
      background-size: 200% auto;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shine 5s infinite linear;
      text-shadow: 0 0 10px rgba(57, 38, 37, 0.5);
      font-weight: 600;
    }

    .auth-features {
      list-style: none;
      text-align: left;
      max-width: 400px;
      background: linear-gradient(
        45deg,
        #ffffff 20%,
        #392625 40%,
        #ffffff 60%,
        #392625 80%
      );
      background-size: 200% auto;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shine 5s infinite linear;
      text-shadow: 0 0 10px rgba(57, 38, 37, 0.5);
      font-weight: 600;
    }

    .auth-features li {
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      font-size: 0.9rem;
    }

    .auth-features li i {
      color: var(--white);
      margin-right: 10px;
      font-size: 16px;
    }

    .auth-form-container {
      flex: 1;
      background-color: var(--card-bg);
      padding: 30px 25px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    .auth-tabs {
      display: flex;
      margin-bottom: 25px;
      border-bottom: 1px solid var(--light-bg);
    }

    .auth-tab {
      padding: 12px 20px;
      cursor: pointer;
      font-weight: 500;
      color: var(--text-dark);
      transition: var(--transition);
      position: relative;
      font-size: 15px;
    }

    .auth-tab.active {
      color: var(--cream);
    }

    .auth-tab.active::after {
      content: "";
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 100%;
      height: 3px;
      background-color: var(--cream);
    }

    .auth-form {
      display: none;
    }

    .auth-form.active {
      display: block;
    }

    .form-title {
      font-size: 1.6rem;
      margin-bottom: 8px;
    }

    .form-subtitle {
      color: var(--text-dark);
      margin-bottom: 25px;
      font-size: 0.95rem;
    }

    /* Custom Google Sign-In Button Styling */
    .custom-google-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      padding: 12px;
      border: 1px solid var(--light-bg);
      border-radius: 5px;
      background: var(--card-bg);
      cursor: pointer;
      transition: var(--transition);
      font-family: "Montserrat", sans-serif;
      font-weight: 500;
      color: var(--text-dark);
    }
    
    .custom-google-btn:hover {
      border-color: var(--cream);
    }
    
    .custom-google-btn i {
      font-size: 18px;
      color: var(--cream);
      margin-right: 10px;
    }

    .social-auth {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
    }

    .social-btn {
      flex: 1;
      padding: 12px;
      border: 1px solid var(--light-bg);
      border-radius: 5px;
      background: var(--card-bg);
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .social-btn:hover {
      border-color: var(--cream);
    }

    .social-btn i {
      font-size: 18px;
      color: var(--cream);
    }

    .divider {
      display: flex;
      align-items: center;
      margin: 20px 0;
      color: var(--text-dark);
    }

    .divider::before,
    .divider::after {
      content: "";
      flex: 1;
      height: 1px;
      background-color: var(--light-bg);
    }

    .divider span {
      padding: 0 12px;
      font-size: 13px;
    }

    .form-group {
      margin-bottom: 18px;
    }

    .form-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: 500;
      color: var(--cream);
      font-size: 14px;
    }

    .form-control {
      width: 100%;
      padding: 14px 15px;
      border: 1px solid var(--light-bg);
      border-radius: 8px;
      background-color: var(--card-bg);
      color: var(--text-dark);
      font-family: "Montserrat", sans-serif;
      transition: var(--transition);
      font-size: 15px;
    }

    .form-control:focus {
      outline: none;
      border-color: var(--cream);
    }

    /* Password toggle styles */
    .password-toggle {
      position: relative;
    }
    
    .password-toggle .form-control {
      padding-right: 45px;
    }
    
    .toggle-password {
      position: absolute;
      right: 15px;
      top: 73.5%;
      transform: translateY(-50%);
      cursor: pointer;
      color: var(--cream);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 20px;
      height: 20px;
    }

    .form-options {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 10px;
    }

    .remember-me {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .remember-me input {
      accent-color: var(--cream);
    }

    .remember-me label {
      font-size: 14px;
      color: var(--text-dark);
    }

    .forgot-password {
      color: var(--cream);
      text-decoration: none;
      font-size: 14px;
      transition: var(--transition);
    }

    .forgot-password:hover {
      text-decoration: underline;
    }

    .submit-btn {
      width: 100%;
      padding: 15px;
      background-color: var(--cream);
      color: var(--white);
      border: none;
      border-radius: 8px;
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      margin-bottom: 20px;
    }

    .submit-btn:hover {
      background-color: var(--dark-gray);
    }

    .auth-redirect {
      text-align: center;
      font-size: 14px;
      color: var(--text-dark);
    }

    .auth-redirect a {
      color: var(--cream);
      text-decoration: none;
      font-weight: 500;
      transition: var(--transition);
    }

    .auth-redirect a:hover {
      text-decoration: underline;
    }

    /* Footer */
    footer {
      background-color: var(--cream);
      color: var(--text-light);
      padding: 30px 20px;
      text-align: center;
    }

    .footer-content {
      max-width: 1000px;
      margin: 0 auto;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin-bottom: 15px;
    }

    .footer-links a {
      color: rgba(255, 255, 255, 0.8);
      text-decoration: none;
      transition: var(--transition);
      font-size: 14px;
    }

    .footer-links a:hover {
      color: var(--white);
    }

    .copyright {
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.85rem;
    }

    /* Animations */
    @keyframes shine {
      to {
        background-position: 200% center;
      }
    }

    /* Google Sign-In Button Styles */
    .g_id_signin {
      width: 100% !important;
    }

    .g_id_signin iframe {
      width: 100% !important;
    }

    .fallback-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      padding: 12px;
      border: 1px solid var(--light-bg);
      border-radius: 5px;
      background: var(--card-bg);
      cursor: pointer;
      transition: var(--transition);
      font-family: "Montserrat", sans-serif;
      font-weight: 500;
      color: var(--text-dark);
    }

    .fallback-btn:hover {
      border-color: var(--cream);
    }

    .fallback-btn i {
      font-size: 18px;
      color: var(--cream);
      margin-right: 10px;
    }

    /* Error state styling */
    .auth-error {
      border: 1px solid #ff6b6b !important;
      background-color: rgba(255, 107, 107, 0.1) !important;
    }

    .error-message {
      color: #ff6b6b;
      font-size: 14px;
      margin-top: 10px;
      text-align: center;
      display: none;
    }

    /* Mobile Menu */
    .mobile-menu-btn {
      display: none;
      background: none;
      border: none;
      font-size: 24px;
      color: var(--cream);
      cursor: pointer;
    }

    /* Responsive Design */
    @media (max-width: 900px) {
      .auth-container {
        flex-direction: column;
        max-width: 500px;
      }

      .auth-image {
        padding: 25px 15px;
      }

      .auth-image h2 {
        font-size: 1.6rem;
      }

      .auth-image p {
        font-size: 0.9rem;
      }

      .auth-features li {
        font-size: 0.85rem;
      }
    }

    @media (max-width: 768px) {
      header {
        padding: 12px 15px;
      }

      .logo-container {
        width: 150px;
        height: 50px;
      }

      .logo-img-light, .logo-img-dark {
        max-width: 100px;
        max-height: 40px;
      }

      .mobile-menu-btn {
        display: block;
      }

      .nav-links {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        background-color: var(--white);
        flex-direction: column;
        padding: 20px;
        box-shadow: var(--shadow);
        z-index: 99;
      }

      .nav-links.active {
        display: flex;
      }

      .nav-links a {
        padding: 10px 0;
        border-bottom: 1px solid var(--light-bg);
        width: 100%;
        text-align: center;
      }

      .nav-links a:last-child {
        border-bottom: none;
      }

      .header-icons {
        gap: 12px;
      }

      .header-icons i {
        font-size: 16px;
      }

      .mode-toggle {
        width: 45px;
        height: 22px;
      }

      .toggle-circle {
        width: 16px;
        height: 16px;
      }

      .dark-mode .toggle-circle {
        left: 25px;
      }

      .auth-form-container {
        padding: 25px 20px;
      }

      .auth-tab {
        padding: 10px 15px;
        font-size: 14px;
      }

      .form-title {
        font-size: 1.4rem;
      }

      .form-subtitle {
        font-size: 0.9rem;
      }

      .social-auth {
        flex-direction: column;
      }

      .form-options {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }

      .footer-links {
        flex-direction: column;
        gap: 10px;
      }
    }

    @media (max-width: 480px) {
      .main-content {
        padding: 15px;
      }

      .auth-container {
        border-radius: 8px;
      }

      .auth-image {
        padding: 20px 15px;
      }

      .auth-image h2 {
        font-size: 1.4rem;
      }

      .auth-image p {
        font-size: 0.85rem;
      }

      .auth-features li {
        font-size: 0.8rem;
      }

      .auth-form-container {
        padding: 20px 15px;
      }

      .auth-tabs {
        margin-bottom: 20px;
      }

      .auth-tab {
        padding: 8px 12px;
        font-size: 13px;
      }

      .form-title {
        font-size: 1.3rem;
      }

      .form-subtitle {
        font-size: 0.85rem;
        margin-bottom: 20px;
      }

      .form-group {
        margin-bottom: 15px;
      }

      .form-control {
        padding: 12px;
        font-size: 14px;
      }

      .submit-btn {
        padding: 12px;
        font-size: 0.95rem;
      }

      footer {
        padding: 20px 15px;
      }

      .copyright {
        font-size: 0.8rem;
      }
    }

    @media (max-width: 360px) {
      .logo-container {
        width: 130px;
        height: 45px;
      }

      .logo-img-light, .logo-img-dark {
        max-width: 90px;
        max-height: 35px;
      }

      .header-icons {
        gap: 10px;
      }

      .header-icons i {
        font-size: 14px;
      }

      .auth-image h2 {
        font-size: 1.3rem;
      }

      .auth-image p {
        font-size: 0.8rem;
      }

      .auth-features li {
        font-size: 0.75rem;
      }
    }
  </style>
</head>
<body>

  <!-- Google Sign-In with global initialization -->
  <div
    id="g_id_onload"
    data-client_id="375191702359-lkoehegsjeqf44rev9b4b95fdlrsv7oa.apps.googleusercontent.com"
    data-callback="handleGoogleLogin"
    data-auto_prompt="false"
  ></div>

  <!-- Header -->
  <header>
    <div class="logo-container">
      <div class="logo-placeholder">
        <span>
          <img
            src="images/Logo Version Transparente-01.png"
            alt="OLYS HAIR Logo"
            class="logo-img-light"
          />
          <img
            src="images/Artboard 1 copy.png"
            alt="OLYS HAIR Logo Dark"
            class="logo-img-dark"
          />
        </span>
      </div>
    </div>
    
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <i class="fas fa-bars"></i>
    </button>
    
    <div class="nav-links" id="navLinks">
      <a href="index.html">Home</a>
      <a href="shop.html">Shop</a>
      <a href="collection.html">Collections</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </div>
    
    <div class="header-icons">
      <i class="fas fa-search"></i>
      <i class="fas fa-shopping-bag"></i>
      <div class="mode-toggle">
        <i class="fas fa-sun"></i>
        <i class="fas fa-moon"></i>
        <div class="toggle-circle"></div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="main-content">
    <div class="auth-container">
      <div class="auth-image">
        <h2>Welcome to OLYS HAIR</h2>
        <p>
          Sign in to access your personalized dashboard and explore our
          premium hair collection
        </p>
        <ul class="auth-features">
          <li>
            <i class="fas fa-check-circle"></i> Track your orders and
            appointments
          </li>
          <li>
            <i class="fas fa-check-circle"></i> Save your favorite items to
            wishlist
          </li>
          <li>
            <i class="fas fa-check-circle"></i> Exclusive member discounts
          </li>
          <li><i class="fas fa-check-circle"></i> Faster checkout process</li>
        </ul>
      </div>
      <div class="auth-form-container">
<div class="auth-tabs">
    <div class="auth-tab active" data-tab="signin" data-translate="signIn">Sign In</div>
    <div class="auth-tab" data-tab="signup" data-translate="register">Create Account</div>
</div>

        <!-- Sign In Form -->
        <form class="auth-form active" id="signin-form">
         <h2 class="form-title" data-translate="welcomeBack">Welcome Back</h2>
<p class="form-subtitle" data-translate="signInToAccount">Sign in to access your account</p>

          <div class="social-auth">
            <div class="g_id_signin" 
                 data-type="standard"
                 data-theme="outline"
                 data-size="large"
                 data-width="100%"
                 style="width: 100%;">
            </div>
            
            <!-- Fallback custom button (hidden by default) -->
            <button type="button" class="custom-google-btn fallback-btn" style="display: none;">
              <i class="fab fa-google"></i> Sign in with Google
            </button>
          </div>

          <div class="divider">
            <span>Or continue with email</span>
          </div>

          <div class="form-group">
            <label for="email" data-translate="emailAddress">Email Address</label>
    <input type="email" id="email" class="form-control" data-translate="emailAddress" placeholder="Enter your email" required />
</div>

<div class="form-group password-toggle">
    <label for="password" data-translate="password">Password</label>
    <input type="password" id="password" class="form-control" data-translate="password" placeholder="Enter your password" required />
            <span class="toggle-password" id="togglePassword">
              <i class="fas fa-eye"></i>
            </span>
          </div>

          <div class="form-options">
            <div class="remember-me">
              <input type="checkbox" id="remember" />
              <label for="remember">Remember me</label>
            </div>
            <a href="#" class="forgot-password">Forgot password?</a>
          </div>

          <button type="submit" class="submit-btn">Sign In</button>

          <div class="auth-redirect">
            Don't have an account?
            <a href="#" id="go-to-signup">Create one here</a>
          </div>
        </form>

        <!-- Sign Up Form -->
        <form class="auth-form" id="signup-form">
          <h2 class="form-title">Create Account</h2>
          <p class="form-subtitle">Join OLYS HAIR for exclusive benefits</p>

          <div class="social-auth">
            <button type="button" class="custom-google-btn" id="custom-google-signup">
              <i class="fab fa-google"></i> Sign up with Google
            </button>
          </div>

          <div class="divider">
            <span>Or sign up with email</span>
          </div>

          <div class="form-group">
            <label for="signup-name">Full Name</label>
            <input
              type="text"
              id="signup-name"
              class="form-control"
              placeholder="Enter your full name"
              required
            />
          </div>

          <div class="form-group">
            <label for="signup-email">Email Address</label>
            <input
              type="email"
              id="signup-email"
              class="form-control"
              placeholder="Enter your email"
              required
            />
          </div>

          <div class="form-group password-toggle">
            <label for="signup-password">Password</label>
            <input
              type="password"
              id="signup-password"
              class="form-control"
              placeholder="Create a password"
              required
            />
            <span class="toggle-password" id="toggleSignupPassword">
              <i class="fas fa-eye"></i>
            </span>
          </div>

          <div class="form-group password-toggle">
            <label for="confirm-password">Confirm Password</label>
            <input
              type="password"
              id="confirm-password"
              class="form-control"
              placeholder="Confirm your password"
              required
            />
            <span class="toggle-password" id="toggleConfirmPassword">
              <i class="fas fa-eye"
              style="
                display: flex;
                align-items: center;
                justify-content:center;
                position:relative;"
                ></i>
            </span>
          </div>

          <div class="form-options">
            <div class="remember-me">
              <input type="checkbox" id="terms" />
              <label for="terms"
                >I agree to the
                <a href="#" style="color: var(--cream)"
                  >Terms & Conditions</a
                ></label
              >
            </div>
          </div>

          <button type="submit" class="submit-btn">Create Account</button>

          <div class="auth-redirect">
            Already have an account?
            <a href="#" id="go-to-signin">Sign in here</a>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-links">
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
        <a href="#">Shipping Information</a>
        <a href="#">Returns & Exchanges</a>
        <a href="#">Contact Us</a>
      </div>
      <div class="copyright">
        ¬© 2023 OLYS HAIR. All rights reserved. | www.olyshair.com
      </div>
    </div>
  </footer>

  <!--Google Identity Service SDK-->
  <script src="https://accounts.google.com/gsi/client" async defer></script>

  <!-- JavaScript -->
 <script>
    // Mobile menu functionality
    document.getElementById('mobileMenuBtn').addEventListener('click', function() {
      document.getElementById('navLinks').classList.toggle('active');
    });

    // Close mobile menu when clicking outside
    document.addEventListener('click', function(event) {
      const navLinks = document.getElementById('navLinks');
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      
      if (!navLinks.contains(event.target) && !mobileMenuBtn.contains(event.target)) {
        navLinks.classList.remove('active');
      }
    });

    // Enhanced Google Sign-In initialization
    async function loadGoogleClientId() {
      try {
        const res = await fetch(
          "http://localhost:5001/api/config/google-client-id"
        );
        
        if (!res.ok) {
          throw new Error(`HTTP error! status: ${res.status}`);
        }
        
        const data = await res.json();
        console.log("Google Client ID loaded:", data.clientId);

        // Initialize Google Identity Services
        if (typeof google !== 'undefined') {
          google.accounts.id.initialize({
            client_id: data.clientId,
            callback: handleGoogleLogin,
            auto_select: false,
            context: "signin"
          });
          
          // Render the button
          google.accounts.id.renderButton(
            document.querySelector('.g_id_signin'),
            {
              type: "standard",
              theme: "outline",
              size: "large",
              width: "100%",
              text: "signin_with",
              shape: "rectangular"
            }
          );
          
          console.log("Google Sign-In button rendered successfully");
        } else {
          console.error("Google Identity Services not loaded");
        }
      } catch (err) {
        console.error("Failed to load Google Client ID:", err);
        // Fallback: Use a custom button with direct prompt
        setupFallbackGoogleAuth();
      }
    }

    // Fallback authentication method
    function setupFallbackGoogleAuth() {
      const googleButtons = document.querySelectorAll('.custom-google-btn, .g_id_signin');
      googleButtons.forEach(button => {
        button.style.display = 'block';
        button.addEventListener('click', () => {
          alert("Google Sign-In is currently unavailable. Please try email sign-in or check your connection.");
        });
      });
    }

    // Enhanced Google Login handler with checkout redirect
    async function handleGoogleLogin(response) {
      console.log("Google login response received");
      
      try {
        const res = await fetch("http://localhost:5001/api/auth/google", {
          method: "POST",
          headers: { 
            "Content-Type": "application/json",
            "Accept": "application/json"
          },
          body: JSON.stringify({ 
            token: response.credential,
            source: "web_signin"
          }),
        });

        const data = await res.json();
        console.log("Auth response:", data);

        if (res.ok && data.token) {
          // Save JWT token
          localStorage.setItem("token", data.token);
          localStorage.setItem("user", JSON.stringify(data.user));
          
          console.log("‚úÖ Google login successful");
          
          // Check if we need to redirect to checkout
          const urlParams = new URLSearchParams(window.location.search);
          const redirectToCheckout = urlParams.get('redirect') === 'checkout';
          const checkoutRedirect = localStorage.getItem("checkoutRedirect");
          
          if (redirectToCheckout || checkoutRedirect) {
            // Clear the redirect flag
            localStorage.removeItem("checkoutRedirect");
            
            // Show welcome message and redirect to checkout
            alert(`Welcome back ${data.user?.firstName}! Redirecting to checkout...`);
            
            setTimeout(() => {
              window.location.href = "checkout.html";
            }, 500);
          } else {
            // Redirect to shop as before
            alert(`Welcome ${data.user?.firstName || data.user?.name || "User"}!`);
            
            setTimeout(() => {
              window.location.href = "shop.html";
            }, 500);
          }
        } else {
          console.error("Login failed:", data.error);
          alert(data.error || "Google login failed. Please try again.");
        }
      } catch (err) {
        console.error("Google OAuth error:", err);
        alert("Connection error during Google login. Please check your internet connection.");
      }
    }

    // Add this diagnostic function
    function checkGoogleAuthStatus() {
      console.log("üîç Google Auth Status Check:");
      console.log("- Google library loaded:", typeof google !== 'undefined');
      console.log("- Client ID element:", document.getElementById('g_id_onload'));
      console.log("- Network status:", navigator.onLine ? 'Online' : 'Offline');
      console.log("- Current domain:", window.location.hostname);
      
      // Check if we're on localhost (which might cause issues)
      if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
        console.warn("‚ö†Ô∏è Running on localhost - Google OAuth may require proper domain configuration");
      }
    }

    // Call this when page loads
    document.addEventListener('DOMContentLoaded', function() {
      checkGoogleAuthStatus();
      
      // Load Google Client ID with delay to ensure library is loaded
      setTimeout(() => {
        loadGoogleClientId();
      }, 1000);
      
      // Check URL parameters for redirect message
      const urlParams = new URLSearchParams(window.location.search);
      const redirectToCheckout = urlParams.get('redirect') === 'checkout';
      
      if (redirectToCheckout) {
        showRedirectNotification();
      }
    });

    // Function to show redirect notification
    function showRedirectNotification() {
      const notification = document.createElement('div');
      notification.className = 'auth-notification';
      notification.innerHTML = `
        <i class="fas fa-shopping-cart"></i>
        <span>Please sign in to complete your checkout</span>
      `;
      
      // Add some styles for the notification
      notification.style.cssText = `
        position: fixed;
        top: 100px;
        left: 50%;
        transform: translateX(-50%);
        background-color: var(--cream);
        color: white;
        padding: 15px 25px;
        border-radius: 8px;
        z-index: 1000;
        display: flex;
        align-items: center;
        gap: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        animation: slideIn 0.5s ease-out;
      `;
      
      // Add animation keyframes
      const style = document.createElement('style');
      style.textContent = `
        @keyframes slideIn {
          from { transform: translateX(-50%) translateY(-20px); opacity: 0; }
          to { transform: translateX(-50%) translateY(0); opacity: 1; }
        }
      `;
      document.head.appendChild(style);
      
      document.body.appendChild(notification);
      
      // Remove notification after 5 seconds
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.5s ease-out forwards';
        setTimeout(() => notification.remove(), 500);
      }, 5000);
    }

    // Dark/Light Mode Toggle
    const modeToggle = document.querySelector(".mode-toggle");
    const body = document.body;

    modeToggle.addEventListener("click", () => {
      body.classList.toggle("dark-mode");

      // Save user preference in localStorage
      if (body.classList.contains("dark-mode")) {
        localStorage.setItem("theme", "dark");
      } else {
        localStorage.setItem("theme", "light");
      }
    });

    // Check for saved user preference
    const savedTheme = localStorage.getItem("theme");
    if (savedTheme === "dark") {
      body.classList.add("dark-mode");
    }

    // Form Tabs
    const authTabs = document.querySelectorAll(".auth-tab");
    const authForms = document.querySelectorAll(".auth-form");

    authTabs.forEach((tab) => {
      tab.addEventListener("click", () => {
        const tabId = tab.getAttribute("data-tab");

        // Update active tab
        authTabs.forEach((t) => t.classList.remove("active"));
        tab.classList.add("active");

        // Show corresponding form
        authForms.forEach((form) => {
          form.classList.remove("active");
          if (form.id === `${tabId}-form`) {
            form.classList.add("active");
          }
        });
      });
    });

    // Toggle between sign in and sign up
    document.getElementById("go-to-signup").addEventListener("click", (e) => {
      e.preventDefault();
      document.querySelector('[data-tab="signup"]').click();
    });

    document.getElementById("go-to-signin").addEventListener("click", (e) => {
      e.preventDefault();
      document.querySelector('[data-tab="signin"]').click();
    });

    // Password visibility toggle
    const togglePassword = document.getElementById("togglePassword");
    const passwordInput = document.getElementById("password");

    togglePassword.addEventListener("click", () => {
      const type =
        passwordInput.getAttribute("type") === "password"
          ? "text"
          : "password";
      passwordInput.setAttribute("type", type);
      togglePassword.innerHTML =
        type === "password"
          ? '<i class="fas fa-eye"></i>'
          : '<i class="fas fa-eye-slash"></i>';
    });

    // Sign up form password toggle
    const toggleSignupPassword = document.getElementById(
      "toggleSignupPassword"
    );
    const signupPasswordInput = document.getElementById("signup-password");

    toggleSignupPassword.addEventListener("click", () => {
      const type =
        signupPasswordInput.getAttribute("type") === "password"
          ? "text"
          : "password";
      signupPasswordInput.setAttribute("type", type);
      toggleSignupPassword.innerHTML =
        type === "password"
          ? '<i class="fas fa-eye"></i>'
          : '<i class="fas fa-eye-slash"></i>';
    });

    // Confirm password toggle
    const toggleConfirmPassword = document.getElementById(
      "toggleConfirmPassword"
    );
    const confirmPasswordInput = document.getElementById("confirm-password");

    toggleConfirmPassword.addEventListener("click", () => {
      const type =
        confirmPasswordInput.getAttribute("type") === "password"
          ? "text"
          : "password";
      confirmPasswordInput.setAttribute("type", type);
      toggleConfirmPassword.innerHTML =
        type === "password"
          ? '<i class="fas fa-eye"></i>'
          : '<i class="fas fa-eye-slash"></i>';
    });

    // Form submission - Login (Enhanced version with checkout redirect)
    document
      .getElementById("signin-form")
      .addEventListener("submit", async (e) => {
        e.preventDefault();

        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value.trim();

        console.log("üîê Login attempt for:", email);

        // Basic validation
        if (!email || !password) {
          alert("Please enter both email and password");
          return;
        }

        try {
          console.log(
            "üì° Sending request to: http://localhost:5001/api/auth/login"
          );

          const res = await fetch("http://localhost:5001/api/auth/login", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ email, password }),
          });

          console.log("üì® Response status:", res.status);
          console.log("üì® Response ok:", res.ok);

          const data = await res.json();
          console.log("üì® Response data:", data);

          if (!res.ok) {
            alert(data.error || `Login failed with status: ${res.status}`);
            return;
          }

          // Save JWT token
          localStorage.setItem("token", data.token);
          localStorage.setItem("user", JSON.stringify(data.user));
          
          console.log(
            "‚úÖ Login successful, token saved:",
            data.token ? "Yes" : "No"
          );

          // Check if we need to redirect to checkout
          const urlParams = new URLSearchParams(window.location.search);
          const redirectToCheckout = urlParams.get('redirect') === 'checkout';
          const checkoutRedirect = localStorage.getItem("checkoutRedirect");
          
          if (redirectToCheckout || checkoutRedirect) {
            // Clear the redirect flag
            localStorage.removeItem("checkoutRedirect");
            
            // Show success message and redirect to checkout
            alert(`Welcome back ${data.user?.firstName}! Redirecting to checkout...`);
            
            setTimeout(() => {
              window.location.href = "checkout.html";
            }, 500);
          } else {
            // Show success message
            alert("Login successful! Welcome back!");

            // Redirect to dashboard with slight delay
            setTimeout(() => {
              window.location.href = "shop.html";
            }, 500);
          }
        } catch (err) {
          console.error("‚ùå Login error:", err);
          console.error("‚ùå Error details:", {
            name: err.name,
            message: err.message,
            stack: err.stack,
          });
          alert(
            "Server error during login. Please check console for details."
          );
        }
      });
      
    // Form submission - Registration (Enhanced with checkout redirect)
    document
      .getElementById("signup-form")
      .addEventListener("submit", async (e) => {
        e.preventDefault();

        const fullName = document.getElementById("signup-name").value.trim();
        const email = document.getElementById("signup-email").value.trim();
        const password = document
          .getElementById("signup-password")
          .value.trim();
        const confirmPassword = document
          .getElementById("confirm-password")
          .value.trim();
        const termsAccepted = document.getElementById("terms").checked;

        console.log("üìù Registration attempt:", { fullName, email });

        // Validation
        if (!fullName || !email || !password || !confirmPassword) {
          alert("Please fill in all fields");
          return;
        }

        if (password !== confirmPassword) {
          alert("Passwords do not match");
          return;
        }

        if (!termsAccepted) {
          alert("Please accept the Terms & Conditions");
          return;
        }

        // Split full name into first + last
        const nameParts = fullName.split(" ");
        if (nameParts.length < 2) {
          alert("Please enter both first and last name");
          return;
        }

        const firstName = nameParts[0];
        const lastName = nameParts.slice(1).join(" ");

        try {
          const res = await fetch("http://localhost:5001/api/auth/register", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({
              firstName,
              lastName,
              email,
              password,
              confirmPassword,
            }),
          });

          const data = await res.json();

          if (!res.ok) {
            alert(data.error || "Registration failed");
            return;
          }

          // Save JWT token
          localStorage.setItem("token", data.token);
          localStorage.setItem("user", JSON.stringify(data.user));
          
          console.log("‚úÖ Registration successful, token saved");

          // Check if we need to redirect to checkout
          const urlParams = new URLSearchParams(window.location.search);
          const redirectToCheckout = urlParams.get('redirect') === 'checkout';
          const checkoutRedirect = localStorage.getItem("checkoutRedirect");
          
          if (redirectToCheckout || checkoutRedirect) {
            // Clear the redirect flag
            localStorage.removeItem("checkoutRedirect");
            
            // Show success message and redirect to checkout
            alert("Registration successful! Welcome to OLYS HAIR! Redirecting to checkout...");
            
            setTimeout(() => {
              window.location.href = "checkout.html";
            }, 500);
          } else {
            // Show success message
            alert("Registration successful! Welcome to OLYS HAIR!");

            // Redirect to dashboard
            setTimeout(() => {
              window.location.href = "shop.html";
            }, 500);
          }
        } catch (err) {
          console.error("Registration error:", err);
          alert("Server error during registration");
        }
      });
      
  </script>
  <script src="language-config.js"></script>
</body>
</html>